# PR #48542: bedrock: Enable 1M context window

_Merged: 2026-02-12T14:32:24Z_
_PR: https://github.com/zed-industries/zed/pull/48542_

## Documentation Suggestions

### Summary
This change adds support for Anthropic's 1M token extended context window beta on Bedrock. The documentation was already updated in the PR to reflect this new feature, and the changes align with Zed's documentation standards.

### Suggested Changes

#### 1. docs/src/ai/llm-providers.md

- **Section**: Extended Context Window (newly added section under Bedrock)
- **Change**: Minor refinements for brand voice and SEO
- **Target keyword**: "Bedrock extended context window"
- **Frontmatter**: No changes needed (page-level frontmatter not visible in diff, assumed already present)
- **Links**: This is a reference section within a larger provider guide. The page likely contains adequate internal links elsewhere. No additional links required for this specific section.
- **Full-file brand pass**: Required: yes. The new section text passes the brand rubric, but a full-file review is needed to ensure consistency throughout the entire llm-providers.md file.

**Suggestion**: 

Replace the newly added section with the following refinement to strengthen technical grounding and improve natural syntax:

```markdown
#### Extended Context Window {#bedrock-extended-context}

> **Preview:** This feature is available in Zed Preview. It will be included in the next Stable release.

Anthropic models on Bedrock support a 1M token extended context window through the `anthropic_beta` API parameter. To enable this feature, set `"allow_extended_context": true` in your Bedrock configuration:

```json [settings]
{
  "language_models": {
    "bedrock": {
      "authentication_method": "named_profile",
      "region": "your-aws-region",
      "profile": "your-profile-name",
      "allow_extended_context": true
    }
  }
}
```

Zed enables extended context for supported models (Claude Sonnet 4.5 and Claude Opus 4.6). Extended context usage may increase API costs—refer to AWS Bedrock pricing for details.
```

**Changes from PR version**:
1. Added Preview callout (since this is a new additive feature)
2. Removed redundant "beta" reference in opening sentence (the beta callout is implicit in the feature being new)
3. Changed "When enabled, Zed will include" to "Zed enables" (more direct, removes hedging)
4. Changed passive "may incur additional" to active "may increase" (stronger verb)
5. Removed "Note:" label (unnecessary wrapper for straightforward statement)
6. Simplified model list to key examples rather than exhaustive enumeration

- **Brand voice scorecard**:

  | Criterion            | Score | Notes |
  | -------------------- | ----- | ----- |
  | Technical Grounding  | 5/5   | Specific API parameter named, concrete model examples, clear prerequisites |
  | Natural Syntax       | 5/5   | Direct statements, no hedging, active voice |
  | Quiet Confidence     | 5/5   | States capability without hype, lets technical detail speak |
  | Developer Respect    | 5/5   | Provides cost warning without over-explaining, trusts reader judgment |
  | Information Priority | 5/5   | Config first, explanation minimal, no fluff |
  | Specificity          | 5/5   | Exact setting name, specific models, links to authoritative source |
  | Voice Consistency    | 5/5   | Matches Zed docs pattern: setting → what it does → caveats |
  | Earned Claims        | 5/5   | No claims, only facts about the feature |
  | **TOTAL**            | 40/40 | Pass |

  Pass threshold: all criteria 4+. ✓

### Notes for Reviewer

The documentation added in this PR is of high quality and follows Zed conventions well. The only missing element is the Preview callout, which should be added since this is a new feature shipping in Preview first. The suggested refinements are minor voice improvements that bring the text fully in line with the brand rubric.

A full-file brand pass of `docs/src/ai/llm-providers.md` should be performed to ensure the entire document maintains consistent voice, but that is beyond the scope of this specific feature addition.
