# PR #48807: languages: Add runnable support for bash 

_Merged: 2026-02-12T16:46:43Z_
_PR: https://github.com/zed-industries/zed/pull/48807_

## Documentation Suggestions

### Summary
The bash language support now includes runnable detection via Tree-sitter queries and adds a "bash-script" tag to bash file tasks. This enables users to run bash scripts directly from the editor using the tasks/runnable system, which warrants documentation updates about the feature and tag system.

### Suggested Changes

#### 1. docs/src/tasks.md
- **Section**: New section after existing "Language-specific Tasks" or "Task Templates" content
- **Change**: Add
- **Target keyword**: bash script tasks zed
- **Frontmatter**:
  ```yaml
  ---
  title: Tasks - Run and Automate Commands in Zed
  description: Configure and run tasks, scripts, and build commands directly from Zed's task system
  ---
  ```
- **Links**: 
  - Link to `languages.md` (language configuration)
  - Link to `keybindings.md` for task-related keybindings
  - Link to `settings.md#task-configuration` (if a task settings section exists)
  - Optionally link to https://zed.dev/features for task/workflow feature overview
- **Suggestion**: 

Add a subsection documenting bash script execution:

```markdown
### Running Bash Scripts

> **Preview:** This feature is available in Zed Preview. It will be included in the next Stable release.

You can run bash scripts directly from Zed. When you open a `.sh` or `.bash` file, Zed automatically detects the script as runnable and makes it available in the task picker.

To run a bash script:

1. Open the command palette with {#kb command_palette::Toggle}
2. Search for "task" and select **task: spawn**
3. Select the script from the list

Bash scripts are tagged with `bash-script`, allowing you to filter or reference them in task configurations.

If you need to pass arguments or customize the execution environment, add a task configuration in your `.zed/tasks.json`:

```json
[
  {
    "label": "run my-script.sh with args",
    "command": "./my-script.sh",
    "args": ["--verbose", "--output=results.txt"],
    "tags": ["bash-script"]
  }
]
```

**Alternatively**, you can configure tasks in the Settings Editor under **Tasks** or by editing your `settings.json` file.
```

- **Full-file brand pass**: Required: yes. Review the entire `tasks.md` file to ensure:
  - No hedging language like "simply" or "just" 
  - Consistent second-person present tense
  - Settings Editor mentioned before JSON when showing configuration options
  - Keybindings use `{#kb}` syntax throughout
  - At least 3 useful internal links per major section
  - Title and description in frontmatter meet SEO guidelines

- **Brand voice scorecard**:

  | Criterion            | Score | Notes |
  | -------------------- | ----- | ----- |
  | Technical Grounding  | 5/5   | Specific steps, file formats, technical details |
  | Natural Syntax       | 5/5   | Clear procedural language, no awkward phrasing |
  | Quiet Confidence     | 5/5   | States capability without hype ("You can run...") |
  | Developer Respect    | 5/5   | Respects user knowledge, provides configuration control |
  | Information Priority | 5/5   | Leads with action, configuration details follow |
  | Specificity          | 4/5   | Could add specific tag filter examples, otherwise concrete |
  | Voice Consistency    | 5/5   | Matches Zed docs voice: direct, technical, second person |
  | Earned Claims        | 5/5   | No unsupported claims, only describes actual functionality |
  | **TOTAL**            | 39/40 |       |

  Pass threshold: all criteria 4+. ✓

#### 2. docs/src/languages.md (or language-specific configuration page if it exists)
- **Section**: "Language-specific Features" or similar section documenting per-language capabilities
- **Change**: Add
- **Target keyword**: language features zed editor
- **Frontmatter**:
  ```yaml
  ---
  title: Language Support in Zed
  description: Configure language servers, syntax highlighting, and language-specific features in Zed
  ---
  ```
- **Links**:
  - Link to `tasks.md` for task system details
  - Link to `extensions.md` for language extension information
  - Link to `settings.md` for language-specific settings
  - If this is a main language features page, include https://zed.dev/languages

- **Suggestion**:

Add or update a subsection about runnable detection:

```markdown
### Runnable Detection

> **Preview:** This feature is available in Zed Preview. It will be included in the next Stable release.

Zed detects runnable code in certain languages using Tree-sitter queries. When you open a file with runnable content, Zed makes it available through the task system.

Currently supported:
- **Bash**: Detects bash scripts (`.sh`, `.bash` files) and tags them as `bash-script` for task execution

To run detected code, use {#kb command_palette::Toggle} and search for **task: spawn**.

Runnable detection is extensible. Language extensions can define their own runnable queries using Tree-sitter patterns in `runnables.scm` files.
```

- **Full-file brand pass**: Required: yes. Scan the entire `languages.md` file for:
  - Marketing language or unsupported claims about language support
  - Inconsistent settings documentation (ensure Settings Editor + JSON pattern)
  - Missing or insufficient internal links (minimum 3 per major section)
  - Terminology consistency ("folder" not "directory", etc.)
  - Frontmatter SEO optimization

- **Brand voice scorecard**:

  | Criterion            | Score | Notes |
  | -------------------- | ----- | ----- |
  | Technical Grounding  | 5/5   | Technical mechanism (Tree-sitter queries), file types specified |
  | Natural Syntax       | 5/5   | Clear, natural English throughout |
  | Quiet Confidence     | 5/5   | States what Zed does without overselling |
  | Developer Respect    | 5/5   | Notes extensibility, empowers user understanding |
  | Information Priority | 5/5   | Describes feature, then provides usage path |
  | Specificity          | 5/5   | Concrete file extensions, command references, tag names |
  | Voice Consistency    | 5/5   | Matches established Zed documentation voice |
  | Earned Claims        | 5/5   | Claims directly match implemented functionality |
  | **TOTAL**            | 40/40 |       |

  Pass threshold: all criteria 4+. ✓

### Notes for Reviewer

The diff introduces two interconnected features:
1. A Tree-sitter runnable query (`runnables.scm`) that marks bash scripts as runnable
2. A default task template tagged with `bash-script`

This makes bash scripts discoverable and executable through Zed's task system without manual configuration. The documentation should explain:
- **How** users run bash scripts (task spawning workflow)
- **Where** the runnable detection happens (language-level feature)
- **Why** tags matter (filtering, task organization)

Both suggested docs locations serve different purposes:
- `tasks.md`: User-facing workflow documentation
- `languages.md`: Technical capability documentation

The preview callouts use the NEW/ADDITIVE format since this is an entirely new capability for bash files in the task system.
