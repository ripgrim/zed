# PR #48736: Fix Conda activation error appearing during task execution

_Merged: 2026-02-13T11:13:18Z_
_PR: https://github.com/zed-industries/zed/pull/48736_

## Documentation Suggestions

### Summary
The code changes enable login shells for terminal tasks by passing `true` instead of `false` to `args_for_shell`. This affects how shell initialization files are processed when running tasks, which is a user-facing behavior change that warrants documentation.

### Suggested Changes

#### 1. docs/src/tasks.md
- **Section**: Existing "Tasks" page, add subsection under "Shell environment"
- **Change**: Add
- **Target keyword**: task shell environment
- **Frontmatter**:
  ```yaml
  ---
  title: Configure and run tasks in Zed
  description: Run build scripts, tests, and custom commands with task configuration and execution.
  ---
  ```
- **Links**: 
  - [Terminal configuration](/terminal)
  - [Assistant agent tasks](/assistant/agents#task-execution)
  - [Keybindings reference](/key-bindings)
  - Marketing link: [Tasks overview on zed.dev](https://zed.dev/features/tasks)
- **Suggestion**: 

Add a new subsection explaining the shell initialization behavior:

```markdown
### Shell Initialization

> **Changed in Preview (v0.225).** See [release notes](/releases#0.225).

When Zed runs a task, it launches the command in a login shell. This ensures your shell's initialization files (`.bash_profile`, `.zshrc`, etc.) are sourced before the task executes.

This behavior gives tasks access to the same environment variables, aliases, and PATH modifications you've configured in your shell profile. If a task fails to find a command that works in your terminal, verify your shell configuration files are properly set up.

To override the shell used for tasks, configure the `terminal.shell` setting:

```json
{
  "terminal": {
    "shell": {
      "program": "/bin/zsh"
    }
  }
}
```

See [Terminal configuration](/terminal) for complete shell options.
```

- **Full-file brand pass**: Required: yes. Review the entire `tasks.md` file for:
  - Replace any instances of "simply" or "just" with direct instructions
  - Ensure all keybindings use `{#kb action::Name}` syntax instead of hardcoded keys
  - Verify second-person present tense throughout
  - Check that setting examples show Settings Editor UI path before JSON alternative
  - Ensure at least 3 internal docs links are present

- **Brand voice scorecard**:

  | Criterion            | Score | Notes |
  | -------------------- | ----- | ----- |
  | Technical Grounding  | 5/5   | Explains shell initialization mechanism precisely |
  | Natural Syntax       | 5/5   | Direct, conversational without hedging |
  | Quiet Confidence     | 5/5   | States behavior factually without hype |
  | Developer Respect    | 5/5   | Assumes reader understands shell profiles |
  | Information Priority | 4/5   | Leads with behavior, provides troubleshooting |
  | Specificity          | 5/5   | Names exact files, clear examples |
  | Voice Consistency    | 5/5   | Matches Zed docs voice throughout |
  | Earned Claims        | 5/5   | No marketing claims, only facts |
  | **TOTAL**            | 39/40 |       |

  Pass threshold met: all criteria 4+.

### Notes for Reviewer
This is a subtle but important behavior change. Users who relied on tasks running in non-login shells may see different environment behavior. The documentation emphasizes the benefit (environment consistency) while providing troubleshooting context.
